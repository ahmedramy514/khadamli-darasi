âš¡ QUICK REFERENCE - GAMIFICATION SYSTEM
=========================================

ğŸ¯ KEY NUMBERS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Points per answer:        +10
Bonus points (helpful):   +5
Rank 1 (Ù…Ø¨ØªØ¯Ø¦):          0-50 points
Rank 2 (ÙØ¶ÙŠ):            50-150 points
Rank 3 (Ø°Ù‡Ø¨ÙŠ):           150-300 points
Rank 4 (Ø®Ø¨ÙŠØ±):           300+ points

Badge thresholds:
- Ø£ÙˆÙ„ Ø¥Ø¬Ø§Ø¨Ø©:            1 answer
- Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø´ÙŠØ·:        10 answers
- Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚:       50 answers
- Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø©:      5 helpful
- Ø§Ù„Ø³ÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯:        20 helpful

Leaderboard sizes:
- Weekly top:            10 users
- All-time top:          50 users


ğŸ“ FILES MODIFIED/CREATED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BACKEND:
â”œâ”€ models/User.js              âœï¸ Updated schema
â”œâ”€ routes/users.js             âœï¸ Added 4 new endpoints
â””â”€ routes/questions.js         âœï¸ Enhanced points logic

FRONTEND:
â”œâ”€ pages/Leaderboard.jsx       âœ¨ NEW (250+ lines)
â”œâ”€ pages/Badges.jsx            âœ¨ NEW (220+ lines)
â”œâ”€ pages/UserProfile.jsx       âœ¨ NEW (280+ lines)
â”œâ”€ components/Navbar.jsx       âœï¸ Updated
â””â”€ App.jsx                      âœï¸ Updated


ğŸ”Œ API ENDPOINTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

GET  /api/users/leaderboard
     Returns: { allTime: [...], weekly: [...] }

GET  /api/users/weekly-top
     Returns: [User] (top 10)

GET  /api/users/:userId/badges
     Returns: { name, badges: [...] }

GET  /api/users/:userId
     Returns: User + stats object

PUT  /api/users/:userId
     Body: { name, bio, schoolName }
     Auth: Required


ğŸ¨ ROUTES
â”€â”€â”€â”€â”€â”€â”€â”€â”€

Desktop Navbar Dropdown:
â”œâ”€ /user-profile     â†’ UserProfile page
â”œâ”€ /                 â†’ Home
â”œâ”€ /add-question     â†’ AddQuestion
â”œâ”€ /questions        â†’ PublicQuestions
â”œâ”€ /leaderboard      â†’ Leaderboard
â””â”€ /badges           â†’ Badges

Mobile Bottom Nav:
â”œâ”€ / (ğŸ )
â”œâ”€ /questions (â“)
â”œâ”€ /leaderboard (ğŸ†)
â”œâ”€ /badges (ğŸ–ï¸)
â”œâ”€ /add-question (ğŸ“)
â””â”€ /user-profile (ğŸ‘¤)


ğŸ’¾ DATABASE SCHEMA CHANGES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

User Model Added:
â”œâ”€ points: Number (default: 0)
â”œâ”€ weeklyPoints: Number (default: 0)
â”œâ”€ totalAnswers: Number (default: 0)
â”œâ”€ helpfulAnswers: Number (default: 0)
â”œâ”€ rank: String enum [
â”‚  'Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø¨ØªØ¯Ø¦',
â”‚  'Ù…Ø³Ø§Ø¹Ø¯ ÙØ¶ÙŠ',
â”‚  'Ù…Ø³Ø§Ø¹Ø¯ Ø°Ù‡Ø¨ÙŠ',
â”‚  'Ù…Ø³Ø§Ø¹Ø¯ Ø®Ø¨ÙŠØ±'
â”‚  ]
â”œâ”€ badges: [{
â”‚  name: String,
â”‚  description: String,
â”‚  icon: String,
â”‚  earnedAt: Date
â”‚  }]
â””â”€ lastWeeklyReset: Date


âš™ï¸ HOW POINTS ARE AWARDED
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

When answer is posted:
1. Check if answer exists â†’ Yes
2. Add 10 to user.points
3. Add 10 to user.weeklyPoints
4. Increment user.totalAnswers
5. Call user.updateRank()
6. Check for badges (1, 10, 50)
7. user.save()

When helpful rating given:
1. Check if rated as "useful"
2. Find answerer user
3. Add 5 to answerer.points
4. Add 5 to answerer.weeklyPoints
5. Increment answerer.helpfulAnswers
6. Call answerer.updateRank()
7. Check for badges (5, 20 helpful)
8. answerer.save()


ğŸ–ï¸ BADGE LOGIC
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

When user.totalAnswers reaches:
- 1  â†’ Award "Ø£ÙˆÙ„ Ø¥Ø¬Ø§Ø¨Ø©" (ğŸ–ï¸)
- 10 â†’ Award "Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø´ÙŠØ·" (â­)
- 50 â†’ Award "Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚" (ğŸ‘‘)

When user.helpfulAnswers reaches:
- 5  â†’ Award "Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø©" (ğŸ’¡)
- 20 â†’ Award "Ø§Ù„Ø³ÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯" (ğŸŒ)

Prevention: Check if badge exists before adding
```javascript
if (!user.badges.some(b => b.name === badgeName)) {
  user.addBadge(name, description, icon);
}
```


ğŸ”„ RANK CALCULATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```javascript
User.methods.updateRank = function() {
  if (this.points >= 300) {
    this.rank = 'Ù…Ø³Ø§Ø¹Ø¯ Ø®Ø¨ÙŠØ±';
  } else if (this.points >= 150) {
    this.rank = 'Ù…Ø³Ø§Ø¹Ø¯ Ø°Ù‡Ø¨ÙŠ';
  } else if (this.points >= 50) {
    this.rank = 'Ù…Ø³Ø§Ø¹Ø¯ ÙØ¶ÙŠ';
  } else {
    this.rank = 'Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø¨ØªØ¯Ø¦';
  }
};
```


ğŸŒˆ COLOR MAPPING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ù…Ø³Ø§Ø¹Ø¯ Ù…Ø¨ØªØ¯Ø¦  â†’ from-blue-600 to-blue-300
Ù…Ø³Ø§Ø¹Ø¯ ÙØ¶ÙŠ   â†’ from-gray-400 to-gray-300
Ù…Ø³Ø§Ø¹Ø¯ Ø°Ù‡Ø¨ÙŠ  â†’ from-yellow-500 to-yellow-300
Ù…Ø³Ø§Ø¹Ø¯ Ø®Ø¨ÙŠØ±  â†’ from-purple-600 to-purple-400


ğŸ“Š COMPONENT PROPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Leaderboard.jsx:
- activeTab: 'weekly' | 'allTime'
- leaderboard: Array<User>
- user: Current user (from context)

Badges.jsx:
- user: Current user (from context)
- userBadges: Array<Badge>

UserProfile.jsx:
- user: Current user (from context)
- userStats: { points, rank, ... }


ğŸ¯ FRONTEND STATES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Leaderboard:
â”œâ”€ loading: boolean
â”œâ”€ leaderboard: Array
â””â”€ activeTab: 'weekly' | 'allTime'

Badges:
â”œâ”€ loading: boolean
â””â”€ userBadges: Array

UserProfile:
â”œâ”€ loading: boolean
â”œâ”€ userStats: Object
â”œâ”€ editMode: boolean
â””â”€ formData: { name, bio, schoolName }


âœ… TESTING CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Point System:
â–¡ Answer posted â†’ +10 points
â–¡ Weekly points increment
â–¡ Helpful rating â†’ +5 points to answerer

Rank System:
â–¡ 50 points â†’ Rank changes to ÙØ¶ÙŠ
â–¡ 150 points â†’ Rank changes to Ø°Ù‡Ø¨ÙŠ
â–¡ 300 points â†’ Rank changes to Ø®Ø¨ÙŠØ±

Badge System:
â–¡ 1st answer â†’ Ø£ÙˆÙ„ Ø¥Ø¬Ø§Ø¨Ø© badge
â–¡ 10 answers â†’ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø´ÙŠØ· badge
â–¡ 50 answers â†’ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ badge
â–¡ 5 helpful â†’ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ÙÙŠØ¯Ø© badge
â–¡ 20 helpful â†’ Ø§Ù„Ø³ÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ badge
â–¡ No duplicate badges

UI Pages:
â–¡ /leaderboard loads correctly
â–¡ /badges shows earned & available
â–¡ /user-profile displays all stats
â–¡ Weekly/AllTime tabs work
â–¡ Edit profile functionality works

Navigation:
â–¡ Navbar dropdown has 6 options
â–¡ Mobile bottom nav scrollable
â–¡ All links navigate correctly
â–¡ Auth state persists

Responsive:
â–¡ Desktop: Grid 4 columns (stats)
â–¡ Tablet: Grid 2 columns
â–¡ Mobile: Grid 1 column
â–¡ Bottom nav: 6 items scrollable


ğŸš€ DEPLOYMENT CHECKLIST
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Backend:
â–¡ All models migrated
â–¡ API endpoints tested
â–¡ Points calculation verified
â–¡ Badge awarding tested
â–¡ Error handling in place
â–¡ CORS configured

Frontend:
â–¡ All pages built successfully
â–¡ No console errors
â–¡ Responsive design tested
â–¡ Navigation works
â–¡ API calls correct
â–¡ Styling consistent

Database:
â–¡ User schema updated
â–¡ Old data migrated (if applicable)
â–¡ Indexes on points, weeklyPoints
â–¡ Backup taken


ğŸ’¡ OPTIMIZATION TIPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Performance:
- Cache leaderboard (refresh every 5 min)
- Paginate leaderboard results
- Lazy load badge images/emojis
- Minimize re-renders in React

Database:
- Index on: points, weeklyPoints, rank
- Index on: totalAnswers, helpfulAnswers
- Compound index: (points, rank)

API:
- Limit query results
- Use pagination for leaderboards
- Cache frequently accessed data
- Use select() to limit fields returned


ğŸ› COMMON ISSUES & FIXES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Issue: Points not updating
Fix: Ensure user.save() is called after changes

Issue: Badges not appearing
Fix: Check if condition matches exactly
     Verify addBadge() prevents duplicates

Issue: Leaderboard shows old data
Fix: Add proper error handling in fetch
     Refresh on page load

Issue: Rank not calculating
Fix: Call updateRank() after points change
     Verify points >= thresholds

Issue: Mobile nav squished
Fix: Add overflow-x-auto to bottom nav
     Reduce icon/text sizes

Issue: Profile page slow
Fix: Don't load all badges/stats at once
     Use separate API calls


ğŸ“š DOCUMENTATION FILES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Created:
â”œâ”€ GAMIFICATION_SYSTEM.md    (Features, endpoints, models)
â”œâ”€ USER_JOURNEY.md           (User scenarios, flows)
â”œâ”€ IMPLEMENTATION_CHECKLIST.txt (What's done)
â””â”€ QUICK_REFERENCE.txt       (This file)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ready to deploy! ğŸš€

For issues or questions, refer to:
1. GAMIFICATION_SYSTEM.md - Full docs
2. USER_JOURNEY.md - User flows
3. This file - Quick answers
